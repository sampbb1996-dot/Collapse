<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
html,body{margin:0;height:100%;background:#1a1a1a}
canvas{display:block}
</style>
</head>
<body>
<canvas id="c"></canvas>
<script>
const c = document.getElementById('c');
const ctx = c.getContext('2d');
function resize(){c.width=innerWidth;c.height=innerHeight}
resize(); addEventListener('resize',resize);

// state is a distribution, not a value
let bias = 0; // steady state = 0 (50/50)
let variance = 0.15;

function step(){
  const img = ctx.createImageData(c.width,c.height);
  for(let i=0;i<img.data.length;i+=4){
    const n = (Math.random()*2-1)*variance + bias;
    const v = Math.max(0,Math.min(255,128 + n*128));
    img.data[i]=v; img.data[i+1]=v*0.8; img.data[i+2]=v*0.4;
    img.data[i+3]=255;
  }
  ctx.putImageData(img,0,0);

  // slow reversion to neutrality
  bias *= 0.995;
  variance += (0.15-variance)*0.002;

  requestAnimationFrame(step);
}
step();
</script>
</body>
</html>
