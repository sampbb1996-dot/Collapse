<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport"
  content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<title>Signal</title>

<style>
html,body{
  margin:0;
  width:100%;
  height:100%;
  background:#000;
  overflow:hidden;
  touch-action:none;
  -webkit-user-select:none;
  user-select:none;
  -webkit-tap-highlight-color:transparent;
}
canvas{display:block;}
#overlay{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#777;
  font-family:system-ui;
  font-size:18px;
}
</style>
</head>

<body>
<div id="overlay">tap to begin</div>
<canvas id="c"></canvas>

<script>
/* ================= AUDIO (UNCHANGED) ================= */

let audioCtx, noiseSource, gainNode, audioStarted=false;

function startAudio(){
  if(audioStarted) return;
  audioStarted=true;

  audioCtx=new (window.AudioContext||window.webkitAudioContext)();
  audioCtx.resume();

  const size=audioCtx.sampleRate*2;
  const buffer=audioCtx.createBuffer(1,size,audioCtx.sampleRate);
  const data=buffer.getChannelData(0);
 
